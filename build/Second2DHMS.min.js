/*! PROJECT_NAME - v0.1.0 - 2015-07-25
* http://PROJECT_WEBSITE/
* Copyright (c) 2015 YOUR_NAME; Licensed MIT */
!function(a){function b(a){var b=a%60;a=parseInt(a/60);var c=a%60;a=parseInt(a/60);var d=a%24;a=parseInt(a/24);var e=a;return{day:e,hour:d,minute:c,second:b}}function c(b,c){b.unit=b.unit||"Second";var d={Day:{amplifier:86400,lowCtl:["Hour","Minute","Second"]},Hour:{amplifier:3600,lowCtl:["Minute","Second"]},Minute:{amplifier:60,lowCtl:["Second"]},Second:{amplifier:1,lowCtl:[]}},e=d[b.unit],f=e.amplifier,g=e.lowCtl;c.data("amplifier",f),b.min=b.min*f,b.max=b.max*f;for(var h=0;h<g.length;h++){var i=g[h];a("[id='"+i+"']",c).hide(),a("label[for='"+i+"']",c).hide()}}function d(a,b,c){a.empty();for(var d=[],e=b;c>=e;e++)d.push("<option title='"+e+"' value='"+e+"'>"+e+"</option>");a.append(d.join())}function e(b,c,e){c.off("change","#Day"),c.on("change","#Day",function(c){var f=a(this).val();f=parseInt(f,10);var g=Math.floor(b.max/86400),h=b.max%86400,i=Math.floor(h/3600),j=Math.floor(b.min/86400),k=b.min%86400,l=Math.floor(k/3600);j===g?(d(e,l,i),a(this).data("cursor","MinMax")):f>j&&g>f?(d(e,0,23),a(this).data("cursor","Middle")):f===g?(d(e,0,i),a(this).data("cursor","Max")):f===j&&(d(e,l,23),a(this).data("cursor","Min")),e.change(),c.stopPropagation()})}function f(b,c,e,f){c.off("change","#Hour"),c.on("change","#Hour",function(c){var g=a(this).val();g=parseInt(g,10);var h=b.max%86400,i=Math.floor(h/3600),j=b.max%3600,k=Math.floor(j/60),l=b.min%86400,m=Math.floor(l/3600),n=b.min%3600,o=Math.floor(n/60);"MinMax"===e.data("cursor")&&m===i?(d(f,o,k),a(this).data("cursor","MinMax")):"Max"!==e.data("cursor")&&"MinMax"!==e.data("cursor")||g!==i?"Min"!==e.data("cursor")&&"MinMax"!==e.data("cursor")||g!==m?(d(f,0,59),a(this).data("cursor","Middle")):(d(f,o,59),a(this).data("cursor","Min")):(d(f,0,k),a(this).data("cursor","Max")),f.change(),c.stopPropagation()})}function g(b,c,e,f,g){c.off("change","#Minute"),c.on("change","#Minute",function(c){var h=a(this).val();h=parseInt(h,10);var i=b.max%3600,j=Math.floor(i/60),k=b.max%60,l=Math.floor(k/1),m=b.min%3600,n=Math.floor(m/60),o=b.min%60,p=Math.floor(o/1);"MinMax"===e.data("cursor")&&"MinMax"===f.data("cursor")&&n===j?d(g,p,l):"Max"!==e.data("cursor")&&"MinMax"!==e.data("cursor")||"Max"!==f.data("cursor")&&"MinMax"!==f.data("cursor")||h!==j?"Min"!==e.data("cursor")&&"MinMax"!==e.data("cursor")||"Min"!==f.data("cursor")&&"MinMax"!==f.data("cursor")||h!==n?d(g,0,59):d(g,p,59):d(g,0,l),c.stopPropagation()})}function h(b,c,e,f,g){var h=Math.floor(b.min/86400),i=Math.floor(b.max/86400);if(d(e,h,i),e.change(),0===i){e.hide(),a("label[for='Day']",c).hide();var j=Math.floor(b.max/3600);if(0===j){f.hide(),a("label[for='Hour']",c).hide();var k=Math.floor(b.max/60);0===k&&(g.hide(),a("label[for='Minute']",c).hide())}}}console.log=console.log||{};var i=Class.create({initialize:function(b,d){var i=this.timeObj=a(b);this.range=d,i.empty();var j='<select id="Day"></select><label for="Day">天</label>';j+='<select id="Hour"></select><label for="Hour">时</label>',j+='<select id="Minute"></select><label for="Minute">分</label>',j+='<select id="Second"></select><label for="Second">秒</label>',i.append(j);var k=this.dayObj=a("#Day",i),l=this.hourObj=a("#Hour",i),m=this.minuteObj=a("#Minute",i),n=this.secondObj=a("#Second",i);e(d,i,l),f(d,i,k,m),g(d,i,k,l,n),c(d,i),h(d,i,k,l,m)},SetTimeControlValue:function(a){var c=this.dayObj,d=this.hourObj,e=this.minuteObj,f=this.secondObj,g=this.timeObj,h=g.data("amplifier"),i=a*h,j=b(i);c.val(j.day),c.change(),d.val(j.hour),d.change(),e.val(j.minute),e.change(),f.val(j.second)},GetTimeControlValue:function(){var a=this.dayObj,b=this.hourObj,c=this.minuteObj,d=this.secondObj,e=this.timeObj,f=a.val(),g=b.val(),h=c.val(),i=d.val(),j=86400*f+3600*g+60*h+1*i,k=e.data("amplifier"),l=Math.floor(j/k);return l}});window.TimeScalarClass=i}(jQuery);